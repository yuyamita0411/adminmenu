[{"/templates/admin_vue/src/main.ts":"1","/templates/admin_vue/src/App.vue":"2","/templates/admin_vue/src/router/index.ts":"3","/templates/admin_vue/src/views/articleLists.vue":"4","/templates/admin_vue/src/views/HomeView.vue":"5","/templates/admin_vue/src/views/editMenu.vue":"6","/templates/admin_vue/src/components/Modal.vue":"7","/templates/admin_vue/src/module/test.ts":"8","/templates/admin_vue/src/module/function.ts":"9","/templates/admin_vue/src/module/prop.ts":"10","/templates/admin_vue/src/store/common/index.ts":"11","/templates/admin_vue/src/store/articleList/index.ts":"12","/templates/admin_vue/src/store/editMenu/index.ts":"13"},{"size":253,"mtime":1711075247063,"results":"14","hashOfConfig":"15"},{"size":2871,"mtime":1711077534835,"results":"16","hashOfConfig":"15"},{"size":612,"mtime":1710899695671,"results":"17","hashOfConfig":"15"},{"size":3641,"mtime":1711419266510,"results":"18","hashOfConfig":"15"},{"size":154,"mtime":1709880037755,"results":"19","hashOfConfig":"15"},{"size":11866,"mtime":1711077816833,"results":"20","hashOfConfig":"15"},{"size":3763,"mtime":1711101319015,"results":"21","hashOfConfig":"15"},{"size":7303,"mtime":1710509924626,"results":"22","hashOfConfig":"15"},{"size":1296,"mtime":1711011404297,"results":"23","hashOfConfig":"15"},{"size":2714,"mtime":1710932062379,"results":"24","hashOfConfig":"15"},{"size":1361,"mtime":1711077230944,"results":"25","hashOfConfig":"15"},{"size":381,"mtime":1711075779322,"results":"26","hashOfConfig":"15"},{"size":697,"mtime":1711075818014,"results":"27","hashOfConfig":"15"},{"filePath":"28","messages":"29","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},"ll0zfj",{"filePath":"31","messages":"32","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"33"},{"filePath":"34","messages":"35","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"36","messages":"37","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"38","messages":"39","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"33"},{"filePath":"40","messages":"41","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"42","usedDeprecatedRules":"33"},{"filePath":"43","messages":"44","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"33"},{"filePath":"45","messages":"46","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"47"},{"filePath":"48","messages":"49","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"50","messages":"51","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"52","messages":"53","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"54","messages":"55","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"57","messages":"58","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},"/templates/admin_vue/src/main.ts",[],[],"/templates/admin_vue/src/App.vue",[],[],"/templates/admin_vue/src/router/index.ts",[],"/templates/admin_vue/src/views/articleLists.vue",["59"],"/templates/admin_vue/src/views/HomeView.vue",[],"/templates/admin_vue/src/views/editMenu.vue",["60"],"<template>\n    <div class=\"edit-wrapper\">\n        <div\n        v-for=\"(value, key, index) in jsondata\"\n        :key=\"key\"\n        >\n            <div\n            v-if=\"prop.getElementTag(key)\"\n            class=\"editelem\">\n                <div\n                >\n                    <span\n                        :index=\"index\"\n                        :data-itemkey=\"key\"\n                        :class=\"`for-${prop.getElementTag(key)}`\"\n                        v-if=\"!EditingTargetIndex[index]\"\n                        @click=\"clickTagButton\"\n                        style=\"min-height:1.5rem;\"\n                    >\n                        {{ value }}\n                    </span>\n                    <textarea\n                        v-else\n                        :class=\"`for-${prop.getElementTag(key)}`\"\n                        :value=\"inputValues[key]\"\n                        :style=\"textareaStyle\"\n                        @input=\"handleInput($event, key)\"\n                    >\n                    </textarea>\n                </div>\n                <div\n                    @mouseover=\"mouseOverButton\"\n                    @mousemove=\"mouseOverButton\"\n                    @mouseout=\"mouseOutButton\"\n                    :index=\"index\"\n                    :class=\"`addcontent-wrapper`\"\n                >\n                    <button\n                    @click=\"addBlockFunc\"\n                    :class=\"`addcontentbutton`\"\n                    ><img\n                    :index=\"index\"\n                    @mouseover=\"mouseOverButton\"\n                    @mousemove=\"mouseOverButton\"\n                    @mouseout=\"mouseOutButton\"\n                    :style=\"addButtonStyle(index)\"\n                    :src=\"addcontenticon\"\n                    :data-plusnum=\"index+1\"></button>\n                    <span class=\"addcontent-border bottom-border\"></span>\n                </div>\n                <button\n                v-if=\"key != 'pagetitle'\"\n                :class=\"`trashbutton`\">\n                    <img\n                    :src=\"trashicon\"\n                    @click=\"deleteElement(key)\"\n                    >\n                </button>\n            </div>\n        </div>\n        <div class=\"meta-setting-area\">\n            <div v-for=\"field in fields\" :key=\"field.id\" class=\"meta-label-wrapper\">\n                <div class=\"font-weight-bold\">{{ field.label }}</div>\n                <textarea\n                :class=\"`for-${field.id}`\"\n                @input=\"genericInput($event, field.id)\"\n                :value=\"jsondata[field.id]\"\n                ></textarea>\n            </div>\n        </div>\n        <div class=\"submitButtonWrapper\">\n            <div class=\"submitButtonInner\">\n                <button\n                class=\"submitButton\"\n                @click=\"updateJsonData\"\n                >更新する</button>\n                <button\n                class=\"translationButton\"\n                @click=\"translateJsonData\"\n                >翻訳する</button>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script lang=\"ts\">\nimport { Vue, Options } from \"vue-class-component\";\nimport { mapState } from 'vuex';\n\nimport {store} from '../store/common/index';\nimport {editMenuStore} from '../store/editMenu/index';\nimport { PROP } from '../module/prop';\nimport { FUNCTION } from '../module/function';\nimport { GenericObject } from '../module/type';\n\n@Options({\n    computed: {\n        ...mapState(['modalStatus', 'jsondata', 'HoverTargetIndex', 'EditingTargetIndex']),\n        EditingTargetIndex() {\n            // Vuex ストアの state から EditingTargetIndex を取得してコンポーネントにマッピング\n            return store.state.EditingTargetIndex;\n        },\n        HoverTargetIndex() {\n            // Vuex ストアの state から HoverTargetIndex を取得してコンポーネントにマッピング\n            return store.state.HoverTargetIndex;\n        }\n    }\n})\nexport default class editMenu extends Vue {\n    prop = new PROP();\n    func = new FUNCTION();\n\n    textareaStyle!: string;\n    inputValues: {\n        [key: string]: GenericObject;\n    } = {};\n    fields = [\n        { id: 'pagetitle', label: 'タイトル' },\n        { id: 'description', label: 'ディスクリプション' },\n        { id: 'categoryID', label: 'categoryID' },\n        { id: 'thumbnail', label: 'thumbnail' },\n        { id: 'ogImg', label: 'ogImg' },\n        { id: 'created_at', label: '投稿日' },\n        { id: 'updated_at', label: '更新日' },\n    ];\n    displayTrash = 'hide-trash';\n    addcontenticon = this.prop.addcontenticon;\n    trashicon = this.prop.trashicon;\n\n    created () {\n        //初期のデータを定義\n        this.readData();\n        //編集中のタグ情報の状態を初期化\n        this.resetObj(store.state.jsondata, 'updateStoreObj', 'EditingTargetIndex');\n        this.inputValues = store.state.jsondata;\n    }\n    private clickTagButton (e: Event) {//今クリックしたタグの情報を更新する。状態管理はupdateTargetTagInfoが実行されtargetTagInfoが更新される。\n        const target = e.target as HTMLElement\n        //編集中のタグ情報の状態を更新\n        this.resetObj(store.state.jsondata, 'updateStoreObj', 'EditingTargetIndex');\n        store.commit('updateStoreObj', { target: 'EditingTargetIndex', key: Number(target.getAttribute('index')), value: true });\n        store.dispatch('TargetIndexProperty');\n        this.inputValues = store.state.jsondata;\n        //テキストエリアの高さを合わせる\n        this.setTagHeight(target);\n    }\n    private handleInput (e: Event, key: string) {\n        const target = e.target as HTMLTextAreaElement;\n        target.style.height = 'auto';\n        target.style.height = `${target.scrollHeight}px`;\n        store.state.jsondata[key] = target.value;\n        store.commit('setJsonData', store.state.jsondata);\n    }\n    private genericInput(e: Event, key: string) {\n        const target = e.target as HTMLTextAreaElement;\n        store.commit('changeJsonData', { key, value: target.value });\n    }\n    private addBlockFunc (e: MouseEvent) {\n        const target = e.target as HTMLElement\n        store.commit('updateStoreObj', { target: 'modalStatus', key: 'modalClassName', value: 'modal-show' });\n        store.commit('updateStoreObj', { target: 'modalStatus', key: 'modalWrapperClassName', value: 'modal-wrapper-show' });\n        store.commit('updateStoreObj', { target: 'modalStatus', key: 'bottom', value: `calc(100vh - 5rem - ${e.clientY}px)` });\n        store.commit('updateVariableState', { key: 'nexttagNum', value: target.dataset.plusnum });\n    }\n    private mouseOverButton (e: Event) {\n        const target = e.target as HTMLTextAreaElement;\n        this.resetObj(store.state.HoverTargetIndex, 'updateStoreObj', 'HoverTargetIndex');\n        store.commit('updateStoreObj', { target: 'HoverTargetIndex', key: Number(target.getAttribute('index')), value: true });\n        store.dispatch('TargetIndexProperty');\n    }\n    private mouseOutButton () {\n        this.resetObj(store.state.HoverTargetIndex, 'updateStoreObj', 'HoverTargetIndex');\n        store.dispatch('TargetIndexProperty');\n    }\n    private resetObj (jsondata:GenericObject, commit: string, target: string) {\n        Object.keys(jsondata).forEach((obj: string, i: number) => {\n            store.commit(commit, { target: target, key: i, value: false });\n        });\n    }\n    private TargetIndexProperty() {\n      return store.state.EditingTargetIndex\n    }\n    private HoverIndexProperty() {\n      return store.state.HoverTargetIndex\n    }\n    private setTagHeight (target: HTMLElement) {\n        this.textareaStyle = `height: ${target.offsetHeight}px; margin-bottom: 0;`;\n    }\n    private addButtonStyle (index: number) {\n        if (store.state.HoverTargetIndex[index]) {\n            return 'opacity:1; transition: all .5s;';\n        }\n        return 'opacity:0; transition: all .5s;';\n    }\n    private deleteElement(key: string) {\n        delete store.state.jsondata[key];\n        console.log(store.state.jsondata);\n        store.commit('setJsonData', store.state.jsondata);\n    }\n    readData() {\n        this.func.postAPI (\n            `${store.state.pageinfo.base_url}${process.env.VUE_APP_fileReadEndpoint}`,\n            {filePath: `${process.env.VUE_APP_articleDirPath}${this.$route.path}/index.json`},\n            (response: GenericObject) => {\n                store.commit('setJsonData', response.data);\n            }\n        );\n    }\n    updateJsonData () {\n        this.ModifyJsonFile (\n            `${store.state.pageinfo.base_url}${process.env.VUE_APP_fileEndpoint}`,\n            `${process.env.VUE_APP_articleDirPath}${this.$route.path}/index.json`\n        );\n    }\n    translateJsonData () {\n        this.ModifyJsonFile (\n            `${store.state.pageinfo.base_url}${process.env.VUE_APP_fileTranslateEndpoint}`,\n            `${process.env.VUE_APP_articleDirPath}${this.$route.path}/index.json`\n        );\n    }\n    private ModifyJsonFile (endpoint: string, filepath: string) {\n        this.func.postAPI (\n            endpoint,\n            {\n                fileData: store.state.jsondata,\n                filePath: filepath\n            },\n            (response: GenericObject) => {\n                console.log(response.data);\n            }\n        );\n    }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.edit-wrapper {\n    max-width: 50rem;\n    padding-top: 4rem;\n    min-height: 100vh;\n    margin: 0 auto;\n    background: #ffff;\n    .editelem {\n        width: 100%;\n        float: left;\n        margin: 1rem .5rem;\n        position: relative;\n        div {\n            width: 98%;\n        }\n        div:not(.addcontent-wrapper) {\n            margin: 0 auto;\n            float: left;\n            width: 100%;\n            position: relative;\n        }\n        .addcontent-wrapper {\n            position: absolute;\n        }\n    }\n    .editelem > * {\n        cursor: pointer;\n    }\n}\n.meta-label-wrapper {\n    textarea {\n        font-size: 1rem;\n        padding: .5rem 0 0 .5rem;\n    }\n}\n.meta-setting-area {\n    margin: 1rem auto;\n    padding: 0 .5rem;\n    .meta-label-wrapper {\n        margin-bottom: 1rem;\n    }\n}\n.meta-setting-area .meta-label-wrapper,\n.meta-setting-area {\n    display: inline-block;\n    width: 100%;\n}\n\nh2,\n.for-h2 {\n    font-size: 1.5rem;\n    margin: 0 0 .5rem 0;\n}\n\nh3,\n.for-h3,\n.for-box-h3 {\n    font-size: 1.17rem;\n    margin: 0 0 .5rem 0;\n}\n\nh4,\n.for-h4 {\n    font-size: 1.05rem;\n    margin: 0 0 .5rem 0;\n}\n\np,\n.for-p,\n.for-box-description {\n    font-size: 1rem;\n    margin: 0 0 .5rem 0;\n}\n.submitButton,\n.translationButton {\n    font-size: 1rem;\n}\n.display-addbutton,\n.display-trash {\n    opacity: 1;\n}\n.hide-addbutton,\n.hide-trash {\n    opacity: 0;\n}\n.display-addbutton,\n.hide-addbutton,\n.display-trash,\n.hide-trash {\n    transition: all .3s;\n}\n.addcontentbutton,\n.addcontentbutton img {\n    cursor: pointer;\n}\n.submitButtonWrapper {\n    width: 100%;\n    margin-bottom: 3rem;\n    text-align: center;\n    display: inline-block;\n}\n.submitButtonInner {\n    display: flex;\n    gap: 3px;\n    max-width: 15rem;\n    width: 50%;\n    margin: 0 auto;\n}\n.submitButton {\n    border-bottom: 7px solid #0686b2;\n    background: #27acd9;\n    color: #fff;\n}\n.translationButton {\n    border-bottom: 7px solid #C50B4F;\n    background: #f54785;\n    color: #fff;\n}\n.submitButton,\n.translationButton {\n    display: block;\n    flex:1;\n    cursor: pointer;\n    text-align: center;\n    vertical-align: middle;\n    text-decoration: none;\n    padding: 1rem 0rem;\n    font-weight: bold;\n    border-radius: 0.3rem;\n    border: none;\n    transition: all .3s;\n}\n.submitButton:hover,\n.translationButton:hover {\n    margin-top: 6px;\n\tcolor: #fff;\n    transition: all .3s;\n}\n.submitButton:hover{\n    border-bottom: 1px solid #0686b2;\n}\n.translationButton:hover {\n\tborder-bottom: 1px solid #C50B4F;\n}\n</style>","/templates/admin_vue/src/components/Modal.vue",[],"/templates/admin_vue/src/module/test.ts",[],[],"/templates/admin_vue/src/module/function.ts",[],"/templates/admin_vue/src/module/prop.ts",[],"/templates/admin_vue/src/store/common/index.ts",[],"/templates/admin_vue/src/store/articleList/index.ts",[],[],"/templates/admin_vue/src/store/editMenu/index.ts",[],{"ruleId":"61","severity":1,"message":"62","line":49,"column":9,"nodeType":"63","messageId":"64","endLine":49,"endColumn":25},{"ruleId":"61","severity":1,"message":"65","line":91,"column":9,"nodeType":"63","messageId":"64","endLine":91,"endColumn":22},"@typescript-eslint/no-unused-vars","'articleListStore' is defined but never used.","Identifier","unusedVar","'editMenuStore' is defined but never used."]